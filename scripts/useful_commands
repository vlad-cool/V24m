sudo systemctl set-default multi-user.target
sudo update-initramfs -v -u

export WLD=$HOME/install
export LD_LIBRARY_PATH=$WLD/lib
export PKG_CONFIG_PATH=$WLD/lib/pkgconfig/:$WLD/share/pkgconfig/
export PATH=$WLD/bin:$HOME/.local/bin:$PATH

pip3 install cmake meson
sudo apt -y install ninja-build
sudo apt -y install g++ zlib1g-dev libexpat1-dev flex bison libx11-dev libxext-dev libxdamage-dev \
libxcb-glx0-dev libx11-xcb-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxshmfence-dev \
libxxf86vm-dev libxrandr-dev x11proto-gl-dev x11proto-dri2-dev gettext pkg-config build-essential \
ninja-build python3-pip python3-dev libglfw3-dev libgl1-mesa-dev libglu1-mesa-dev libsdl2-dev \
libxml2-dev ffmpeg libavcodec-dev libavfilter-dev libavdevice-dev clang lldb lld libxcb-shm0-dev \
xinit xorg mesa-utils llvm-dev


cd

git clone https://gitlab.freedesktop.org/wayland/wayland.git
cd wayland
meson build/ --prefix=$WLD -Ddocumentation=false
ninja -C build/ install
cd

git clone https://gitlab.freedesktop.org/wayland/wayland-protocols.git
cd wayland-protocols
meson build/ --prefix=$WLD
ninja -C build/ install
cd

git clone https://gitlab.freedesktop.org/wayland/weston.git
cd weston
meson build/ --prefix=$WLD
ninja -C build/ install
cd



setenv video-mode   

./compile.sh uboot-patch BOARD=bananapim2zero BRANCH=current BUILD_DESKTOP=yes BUILD_MINIMAL=no DESKTOP_APPGROUPS_SELECTED=3dsupport DESKTOP_ENVIRONMENT=xfce DESKTOP_ENVIRONMENT_CONFIG_NAME=config_base KERNEL_CONFIGURE=yes RELEASE=jammy
./compile.sh kernel-patch BOARD=bananapim2zero BRANCH=current BUILD_DESKTOP=yes BUILD_MINIMAL=no DESKTOP_APPGROUPS_SELECTED=3dsupport DESKTOP_ENVIRONMENT=xfce DESKTOP_ENVIRONMENT_CONFIG_NAME=config_base KERNEL_CONFIGURE=yes RELEASE=jammy
./compile.sh build BOARD=bananapim2zero BRANCH=current BUILD_DESKTOP=yes BUILD_MINIMAL=no DESKTOP_APPGROUPS_SELECTED=3dsupport DESKTOP_ENVIRONMENT=xfce DESKTOP_ENVIRONMENT_CONFIG_NAME=config_base KERNEL_CONFIGURE=yes RELEASE=jammy